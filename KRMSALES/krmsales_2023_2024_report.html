<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KUROMATSU 売上レポート 2023-2024</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary-dark: #0a1628;
            --primary-navy: #1a2744;
            --accent-gold: #c9a962;
            --accent-gold-light: #e8d5a3;
            --text-light: #ffffff;
            --text-muted: #8b9cb5;
            --glass-bg: rgba(26, 39, 68, 0.85);
            --border-subtle: rgba(201, 169, 98, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-navy) 50%, #0d1f3c 100%);
            color: var(--text-light);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            border-bottom: 1px solid var(--border-subtle);
            margin-bottom: 30px;
        }

        .header h1 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 300;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            letter-spacing: 0.3em;
            color: var(--accent-gold);
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 0.9rem;
            color: var(--text-muted);
            letter-spacing: 0.1em;
        }

        /* Year Tabs */
        .year-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .year-tab {
            padding: 12px 30px;
            background: var(--glass-bg);
            border: 1px solid var(--border-subtle);
            border-radius: 30px;
            color: var(--text-muted);
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .year-tab:hover {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
        }

        .year-tab.active {
            background: linear-gradient(135deg, var(--accent-gold), #a08050);
            color: var(--primary-dark);
            border-color: var(--accent-gold);
        }

        /* Summary Cards */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .summary-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
        }

        .summary-card .label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 10px;
            letter-spacing: 0.05em;
        }

        .summary-card .value {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--accent-gold);
        }

        .summary-card .sub-value {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 5px;
        }

        /* Data Section */
        .data-section {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--accent-gold);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-subtle);
        }

        /* Month Selector */
        .month-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .month-btn {
            padding: 8px 16px;
            background: transparent;
            border: 1px solid var(--border-subtle);
            border-radius: 20px;
            color: var(--text-muted);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .month-btn:hover,
        .month-btn.active {
            background: var(--accent-gold);
            color: var(--primary-dark);
            border-color: var(--accent-gold);
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .data-table th {
            background: rgba(201, 169, 98, 0.1);
            color: var(--accent-gold);
            padding: 12px 8px;
            text-align: right;
            font-weight: 500;
            white-space: nowrap;
        }

        .data-table th:first-child {
            text-align: left;
        }

        .data-table td {
            padding: 10px 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            text-align: right;
        }

        .data-table td:first-child {
            text-align: left;
            color: var(--text-muted);
        }

        .data-table tr:hover {
            background: rgba(201, 169, 98, 0.05);
        }

        .tax-ex {
            color: var(--text-muted);
            font-size: 0.85em;
        }

        /* Scrollable Table Container */
        .table-scroll {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Weekday Average Grid */
        .weekday-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        @media (max-width: 768px) {
            .weekday-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 480px) {
            .weekday-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .weekday-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
        }

        .weekday-card .day {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .weekday-card .amount {
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-light);
        }

        .weekday-card .amount-ex {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            border-top: 1px solid var(--border-subtle);
            margin-top: 40px;
        }

        /* Year Content */
        .year-content {
            display: none;
        }

        .year-content.active {
            display: block;
        }

        /* Monthly Total */
        .monthly-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(201, 169, 98, 0.1);
            border-radius: 12px;
            margin-top: 15px;
        }

        .monthly-total .label {
            color: var(--accent-gold);
            font-weight: 500;
        }

        .monthly-total .values {
            text-align: right;
        }

        .monthly-total .value-main {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .monthly-total .value-sub {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Comparison Mode */
        .comparison-toggle {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .comparison-btn {
            padding: 10px 25px;
            background: transparent;
            border: 1px solid var(--border-subtle);
            color: var(--text-muted);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .comparison-btn:first-child {
            border-radius: 20px 0 0 20px;
        }

        .comparison-btn:last-child {
            border-radius: 0 20px 20px 0;
        }

        .comparison-btn.active {
            background: var(--accent-gold);
            color: var(--primary-dark);
            border-color: var(--accent-gold);
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>KUROMATSU</h1>
            <p class="subtitle">SALES REPORT 2023-2024</p>
        </header>

        <!-- Year Tabs -->
        <div class="year-tabs">
            <button class="year-tab active" data-year="2024">2024年度</button>
            <button class="year-tab" data-year="2023">2023年度</button>
            <button class="year-tab" data-year="compare">年度比較</button>
        </div>

        <!-- 2024 Content -->
        <div class="year-content active" id="content-2024">
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="label">年間総売上（税込）</div>
                    <div class="value">¥46,167,950</div>
                    <div class="sub-value">税抜: ¥41,970,864</div>
                </div>
                <div class="summary-card">
                    <div class="label">月平均売上</div>
                    <div class="value">¥3,847,329</div>
                    <div class="sub-value">税抜: ¥3,497,572</div>
                </div>
                <div class="summary-card">
                    <div class="label">最高月売上</div>
                    <div class="value">12月</div>
                    <div class="sub-value">¥4,602,110</div>
                </div>
            </div>

            <!-- Monthly Data -->
            <div class="data-section">
                <h2 class="section-title">月別売上データ</h2>
                <div class="month-selector" id="monthSelector2024"></div>
                <div id="monthlyData2024"></div>
            </div>

            <!-- Weekday Average -->
            <div class="data-section">
                <h2 class="section-title">曜日別平均売上</h2>
                <div class="weekday-grid" id="weekdayGrid2024"></div>
            </div>
        </div>

        <!-- 2023 Content -->
        <div class="year-content" id="content-2023">
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="label">年間総売上（税込）</div>
                    <div class="value">¥47,737,078</div>
                    <div class="sub-value">税抜: ¥43,397,343</div>
                </div>
                <div class="summary-card">
                    <div class="label">月平均売上</div>
                    <div class="value">¥3,978,090</div>
                    <div class="sub-value">税抜: ¥3,616,445</div>
                </div>
                <div class="summary-card">
                    <div class="label">最高月売上</div>
                    <div class="value">12月</div>
                    <div class="sub-value">¥4,815,354</div>
                </div>
            </div>

            <!-- Monthly Data -->
            <div class="data-section">
                <h2 class="section-title">月別売上データ</h2>
                <div class="month-selector" id="monthSelector2023"></div>
                <div id="monthlyData2023"></div>
            </div>

            <!-- Weekday Average -->
            <div class="data-section">
                <h2 class="section-title">曜日別平均売上</h2>
                <div class="weekday-grid" id="weekdayGrid2023"></div>
            </div>
        </div>

        <!-- Comparison Content -->
        <div class="year-content" id="content-compare">
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="label">2024年度 総売上</div>
                    <div class="value">¥46,167,950</div>
                    <div class="sub-value">前年比: -3.3%</div>
                </div>
                <div class="summary-card">
                    <div class="label">2023年度 総売上</div>
                    <div class="value">¥47,737,078</div>
                    <div class="sub-value">—</div>
                </div>
                <div class="summary-card">
                    <div class="label">2年間合計</div>
                    <div class="value">¥93,905,028</div>
                    <div class="sub-value">税抜: ¥85,368,207</div>
                </div>
            </div>

            <div class="data-section">
                <h2 class="section-title">月別売上比較</h2>
                <div class="table-scroll">
                    <table class="data-table" id="comparisonTable"></table>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            SAPPORO VIEWTIFUL DINING — KUROMATSU
        </footer>
    </div>

    <script>
        // Tax calculation
        const TAX_RATE = 0.10;
        const calcExTax = (v) => Math.floor(v / (1 + TAX_RATE));
        const formatCurrency = (v) => '¥' + v.toLocaleString();

        // 2024 Data
        const data2024 = {
            months: ['4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', '1月', '2月', '3月'],
            totals: [2539180, 3356720, 3950740, 4399530, 4255520, 3424650, 3664130, 3874580, 4602110, 4427840, 4015900, 3657050],
            weekdayAvg: [
                { Mon: 90060, Tue: 87900, Wed: 93700, Thu: 89267, Fri: 106250, Sat: 110432, Sun: 105288 },
                { Mon: 89275, Tue: 87000, Wed: 91360, Thu: 108600, Fri: 130882, Sat: 114945, Sun: 134408 },
                { Mon: 96420, Tue: 92300, Wed: 115638, Thu: 123062, Fri: 145612, Sat: 175676, Sun: 156046 },
                { Mon: 134280, Tue: 135640, Wed: 129206, Thu: 134738, Fri: 152350, Sat: 165450, Sun: 148438 },
                { Mon: 117708, Tue: 114175, Wed: 137162, Thu: 137230, Fri: 153752, Sat: 151566, Sun: 141650 },
                { Mon: 86880, Tue: 92450, Wed: 106838, Thu: 103762, Fri: 112962, Sat: 137450, Sun: 155280 },
                { Mon: 126362, Tue: 98866, Wed: 111460, Thu: 110090, Fri: 128850, Sat: 126775, Sun: 133525 },
                { Mon: 93588, Tue: 91838, Wed: 122375, Thu: 117375, Fri: 132170, Sat: 157330, Sun: 181595 },
                { Mon: 131170, Tue: 116886, Wed: 143025, Thu: 140288, Fri: 160425, Sat: 198045, Sun: 158940 },
                { Mon: 107788, Tue: 121988, Wed: 149938, Thu: 152936, Fri: 170132, Sat: 158275, Sun: 165138 },
                { Mon: 128150, Tue: 142862, Wed: 128700, Thu: 125825, Fri: 148675, Sat: 177062, Sun: 152700 },
                { Mon: 101340, Tue: 87012, Wed: 121075, Thu: 116975, Fri: 130412, Sat: 143470, Sun: 122220 }
            ],
            annualWeekdayAvg: { Mon: 108419, Tue: 105741, Wed: 121192, Thu: 121679, Fri: 139373, Sat: 151373, Sun: 146269 }
        };

        // 2023 Data
        const data2023 = {
            months: ['4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', '1月', '2月', '3月'],
            totals: [3801370, 3824270, 3674360, 3998360, 3823150, 3479640, 4215970, 4067284, 4815354, 3929730, 4894110, 3213480],
            weekdayAvg: [
                { Mon: 110938, Tue: 96108, Wed: 106498, Thu: 113312, Fri: 126610, Sat: 168736, Sun: 148766 },
                { Mon: 123704, Tue: 105194, Wed: 123208, Thu: 130938, Fri: 121198, Sat: 125635, Sun: 138165 },
                { Mon: 101752, Tue: 114525, Wed: 95855, Thu: 128506, Fri: 121848, Sat: 143520, Sun: 149995 },
                { Mon: 101486, Tue: 121085, Wed: 121262, Thu: 109905, Fri: 172930, Sat: 140320, Sun: 137720 },
                { Mon: 98510, Tue: 129382, Wed: 107498, Thu: 124158, Fri: 150945, Sat: 126710, Sun: 128325 },
                { Mon: 100470, Tue: 93420, Wed: 118230, Thu: 92375, Fri: 123858, Sat: 130008, Sun: 148082 },
                { Mon: 108786, Tue: 98294, Wed: 109260, Thu: 134520, Fri: 141810, Sat: 175652, Sun: 187120 },
                { Mon: 103374, Tue: 108170, Wed: 144110, Thu: 134832, Fri: 138340, Sat: 156379, Sun: 161880 },
                { Mon: 125288, Tue: 105514, Wed: 148512, Thu: 165738, Fri: 175158, Sat: 194426, Sun: 196808 },
                { Mon: 144712, Tue: 115138, Wed: 118112, Thu: 132470, Fri: 162025, Sat: 166050, Sun: 143925 },
                { Mon: 146312, Tue: 116888, Wed: 146950, Thu: 163860, Fri: 172162, Sat: 201095, Sun: 235295 },
                { Mon: 82900, Tue: 90025, Wed: 92525, Thu: 113545, Fri: 131010, Sat: 127650, Sun: 117850 }
            ],
            annualWeekdayAvg: { Mon: 112353, Tue: 107812, Wed: 119335, Thu: 128680, Fri: 144991, Sat: 154682, Sun: 157828 }
        };

        const dayNames = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
        const dayLabels = { Mon: '月', Tue: '火', Wed: '水', Thu: '木', Fri: '金', Sat: '土', Sun: '日' };

        // Year Tab Switching
        document.querySelectorAll('.year-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.year-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.year-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById('content-' + tab.dataset.year).classList.add('active');
            });
        });

        // Render Month Selector
        function renderMonthSelector(containerId, data, year) {
            const container = document.getElementById(containerId);
            data.months.forEach((month, idx) => {
                const btn = document.createElement('button');
                btn.className = 'month-btn' + (idx === 0 ? ' active' : '');
                btn.textContent = month;
                btn.addEventListener('click', () => {
                    container.querySelectorAll('.month-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderMonthlyData('monthlyData' + year, data, idx);
                });
                container.appendChild(btn);
            });
        }

        // Render Monthly Data
        function renderMonthlyData(containerId, data, monthIdx) {
            const container = document.getElementById(containerId);
            const total = data.totals[monthIdx];
            const weekday = data.weekdayAvg[monthIdx];

            let html = `
                <div class="weekday-grid">
                    ${dayNames.map(day => `
                        <div class="weekday-card">
                            <div class="day">${dayLabels[day]}</div>
                            <div class="amount">${formatCurrency(weekday[day])}</div>
                            <div class="amount-ex">税抜: ${formatCurrency(calcExTax(weekday[day]))}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="monthly-total">
                    <div class="label">月間合計</div>
                    <div class="values">
                        <div class="value-main">${formatCurrency(total)}</div>
                        <div class="value-sub">税抜: ${formatCurrency(calcExTax(total))}</div>
                    </div>
                </div>
            `;
            container.innerHTML = html;
        }

        // Render Annual Weekday Average
        function renderWeekdayGrid(containerId, data) {
            const container = document.getElementById(containerId);
            container.innerHTML = dayNames.map(day => `
                <div class="weekday-card">
                    <div class="day">${dayLabels[day]}</div>
                    <div class="amount">${formatCurrency(data[day])}</div>
                    <div class="amount-ex">税抜: ${formatCurrency(calcExTax(data[day]))}</div>
                </div>
            `).join('');
        }

        // Render Comparison Table
        function renderComparisonTable() {
            const table = document.getElementById('comparisonTable');
            let html = `
                <thead>
                    <tr>
                        <th>月</th>
                        <th>2024年度</th>
                        <th>2023年度</th>
                        <th>差額</th>
                    </tr>
                </thead>
                <tbody>
            `;

            data2024.months.forEach((month, idx) => {
                const v2024 = data2024.totals[idx];
                const v2023 = data2023.totals[idx];
                const diff = v2024 - v2023;
                const diffClass = diff >= 0 ? 'color: #4ade80;' : 'color: #f87171;';
                html += `
                    <tr>
                        <td>${month}</td>
                        <td>${formatCurrency(v2024)}</td>
                        <td>${formatCurrency(v2023)}</td>
                        <td style="${diffClass}">${diff >= 0 ? '+' : ''}${formatCurrency(diff)}</td>
                    </tr>
                `;
            });

            html += '</tbody>';
            table.innerHTML = html;
        }

        // Initialize
        renderMonthSelector('monthSelector2024', data2024, '2024');
        renderMonthSelector('monthSelector2023', data2023, '2023');
        renderMonthlyData('monthlyData2024', data2024, 0);
        renderMonthlyData('monthlyData2023', data2023, 0);
        renderWeekdayGrid('weekdayGrid2024', data2024.annualWeekdayAvg);
        renderWeekdayGrid('weekdayGrid2023', data2023.annualWeekdayAvg);
        renderComparisonTable();
    </script>
</body>

</html>